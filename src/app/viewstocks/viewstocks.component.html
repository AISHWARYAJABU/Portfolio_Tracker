<div
style="background-image: url('../../assets/v1016-a-08.jpg'); background-repeat: no-repeat; background-size:cover; min-height: 100vh; ">
<div class="container-fluid">
  <button type="button " class="btn btn-secondary mt-4" data-bs-toggle="modal" data-bs-target="#staticBackdrop"
    style="margin-left: 15px;">
    +Add Investment<img src="../assets/addportfolio.png" alt="" width="30" height="30">
  </button>


   <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
     aria-labelledby="staticBackdropLabel" aria-hidden="true">
     <div class="modal-dialog">
       <div class="modal-content">
         <div class="modal-header">
           <h5 class="modal-title" id="staticBackdropLabel">Add Stock</h5>
           <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
         </div>
         <form [formGroup]="myForm" (ngSubmit)="addStock(myForm.value)">
          
           <div class="form-group">
             <label for="stockName">Stock Symbol:</label>
             <input type="text" class="form-control" id="stockSymbol" formControlName="stockSymbol">
             <div *ngIf="myForm.get('stockSymbol')?.errors?.['required'] && myForm.get('stockSymbol')?.touched"
               class="text-danger">Stock Name is required.</div>
           </div>

           <div class="form-group">
             <label for="stockName">Stock Name:</label>
             <input type="text" class="form-control" id="stockName" formControlName="stockName">
             <div *ngIf="myForm.get('stockName')?.errors?.['required'] && myForm.get('stockName')?.touched"
               class="text-danger">Stock Name is required.</div>
           </div>

          
           <div class="form-group">
             <label for="stockPrice">Stock Price:</label>
             <input type="text" class="form-control" id="stockPrice" formControlName="stockPrice">
             <div *ngIf="myForm.get('stockPrice')?.errors?.['required'] && myForm.get('stockPrice')?.touched"
               class="text-danger">Stock Price is required.</div>
             <div *ngIf="myForm.get('stockPrice')?.errors?.['pattern'] && myForm.get('stockPrice')?.touched"
               class="text-danger">Invalid Stock Price.</div>
           </div>

           
           <div class="form-group">
             <label for="stockQuantity">Stock Quantity:</label>
             <input type="text" class="form-control" id="stockQuantity" formControlName="stockQuantity">
             <div *ngIf="myForm.get('stockQuantity')?.errors?.['required'] && myForm.get('stockQuantity')?.touched"
               class="text-danger">Stock Quantity is required.</div>
             <div *ngIf="myForm.get('stockQuantity')?.errors?.['pattern'] && myForm.get('stockQuantity')?.touched"
               class="text-danger">Invalid Stock Quantity.</div>
           </div>

           
           <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> &nbsp;&nbsp;
           <button type="submit" class="btn btn-primary" data-bs-dismiss="modal" [disabled]="myForm.invalid">Submit</button>
         </form>
       </div>
     </div>
   </div>
  

   <div class="table-responsive">
     <table class="table table-hover">
       <thead>
         <tr>
           <th scope="col">Symbol</th>
           <th scope="col">Stock Name</th>
           <th scope="col">Stock Price</th>
           <th scope="col">Stock Quantity</th>
           <th scope="col">Total Invested Amount</th>
           <th scope="col">Stock Current Price</th>
           <th scope="col">Current Amount</th>
           <th scope="col">% Change</th>
           <th scope="col">Remove Stock</th>
         </tr>
       </thead>
       <tbody>
         <tr *ngFor="let stock of stocks | async">
           <td>{{ stock.stockSymbol }}</td>
           <td>{{ stock.stockName }}</td>
           <td>{{ stock.stockPrice }}</td>
           <td>{{ stock.stockQuantity }}</td>
           <td>{{ stock.stockPrice * stock.stockQuantity }}</td>
           <td>{{ getStockPrice(stock.stockSymbol) }}</td>
           <td>{{ (currentprice * stock.stockQuantity).toFixed(2) }}</td>
           <td>
             {{
               (
                 (currentprice * stock.stockQuantity -
                   stock.stockPrice * stock.stockQuantity) /
                 100
               ).toFixed(2) + "%"
             }}
           </td>
           <td>
             <button
               type="button"
               class="btn btn-danger"
               (click)="deleteStock(stock.stockid)"
             >
               Delete
             </button>
           </td>
         </tr>
         
       </tbody>
     </table>
   </div>
 </div>
</div>